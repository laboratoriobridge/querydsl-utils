![Build Status](https://github.com/laboratoriobridge/querydsl-utils/actions/workflows/maven.yml/badge.svg)
[![codecov](https://codecov.io/gh/laboratoriobridge/querydsl-utils/branch/master/graph/badge.svg)](https://codecov.io/gh/laboratoriobridge/querydsl-utils)
[![Maven Central](https://maven-badges.herokuapp.com/maven-central/br.ufsc.bridge/querydsl-utils/badge.svg)](https://maven-badges.herokuapp.com/maven-central/br.ufsc.bridge/querydsl-utils)

# QueryDSL Utils


## Select

`Select` uses meta information generated by [Metafy](https://github.com/laboratoriobridge/metafy) to bind query values to DTO values.

**Example:**
```java
QAuthor author = QAuthor.author;
MAuthorDto meta = MAuthorDto.meta;

Select<AuthorDto> select = new Select<>(AuthorDto.class);
select.as(author.id, meta.id);
select.as(author.name, meta.name);

JPAQuery<AuthorDto> query = new JPAQuery<>(em);
query.from(author);

List<AuthorDto> authors = query.select(select).fetch();
```

**Using converters:**
```java
QAuthor author = QAuthor.author;
MAuthorDto meta = MAuthorDto.meta;

Select<AuthorDto> select = new Select<>(AuthorDto.class);
select.as(author.id, meta.id);
select.as(author.name, meta.name, name -> name + "_converted-name");

JPAQuery<AuthorDto> query = new JPAQuery<>(em);
query.from(author);

List<AuthorDto> authors = query.select(select).fetch();
```

## QueryWrapper

Adds utilities to the Query.

**Paging example:**
```java
QAuthor author = QAuthor.author;
MAuthorDto meta = MAuthorDto.meta;

Select<AuthorDto> select = new Select<>(AuthorDto.class);
select.as(author.id, meta.id);
select.as(author.name, meta.name);

JPAQuery<AuthorDto> query = new JPAQuery<>(em);
query.from(author);
query.select(select);

QueryWrapper<AuthorDto, JPAQuery<AuthorDto>> wrapper = QueryWrapper.wrap(query);

PageSpec pageSpec = new PageSpec(0, 1, null);

PageResult<AuthorDto> result = wrapper.fetchPage(pageSpec);
```
